<!doctype html><html lang="en-US"><head><title>Separating Signal from Noise - Jim Killingsworth</title><meta charset="utf-8"/><meta name="referrer" content="no-referrer-when-downgrade"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="I want to experiment with modeling price changes over time as the combination of a smooth trend component overlaid with a random noise component. My goal is to examine the statistical properties of each constituent component and compare the results to the statistical properties of the undecomposed market price."/><base href="/"/><link rel="canonical" href="https://jkillingsworth.com/2019/05/24/separating-signal-from-noise/"/><link rel="icon" href="./static/favicon.ico" type="image/x-icon"/><link rel="icon" href="./static/favicon-256.jpg" sizes="256x256"/><link rel="preload" href="./static/fonts/open-sans-v28-latin-700.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v24-latin-regular.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v24-latin-italic.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/roboto-mono-v21-latin-regular.woff2" as="font" crossorigin/><link rel="preload" href="https://www.google-analytics.com/analytics.js" as="script"/><script src="https://www.googletagmanager.com/gtag/js?id=UA-114299226-1" async></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag("js", new Date());
  gtag("config", "UA-114299226-1", { "send_page_view": true });
</script><style>@font-face{font-display:swap;font-family:"Open Sans";font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(./static/fonts/open-sans-v28-latin-700.woff2) format("woff2"),url(./static/fonts/open-sans-v28-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:normal;font-weight:400;src:local("Lora Regular"),local("Lora-Regular"),url(./static/fonts/lora-v24-latin-regular.woff2) format("woff2"),url(./static/fonts/lora-v24-latin-regular.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:italic;font-weight:400;src:local("Lora Italic"),local("Lora-Italic"),url(./static/fonts/lora-v24-latin-italic.woff2) format("woff2"),url(./static/fonts/lora-v24-latin-italic.woff) format("woff")}@font-face{font-display:swap;font-family:"Roboto Mono";font-style:normal;font-weight:400;src:local("Roboto Mono"),local("RobotoMono-Regular"),url(./static/fonts/roboto-mono-v21-latin-regular.woff2) format("woff2"),url(./static/fonts/roboto-mono-v21-latin-regular.woff) format("woff")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
html{box-sizing:border-box;overflow-y:scroll}*,*::before,*::after{box-sizing:inherit}body{font-family:"Lora", "Georgia", serif;font-weight:normal;background:#fff;color:#000;display:flex;flex-flow:row wrap;font-size:12pt;justify-content:space-between;line-height:1.5;margin:0 auto;width:90%}body>*{flex:100%}body>header{font-size:21pt;margin:10px 0}body>footer{border-top:3px solid gray;font-size:10pt;font-style:italic;padding:16px 0}header,nav,h1,h2{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}header a,nav a,h1 a,h2 a{color:inherit}a{color:blue;text-decoration:none}a:hover{color:blue;text-decoration:underline}strong{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}svg{fill:currentColor}.navmenu{border-top:3px solid gray;border-bottom:1px solid #ccc}.navmenu #toggle{float:right;height:24px;margin:4px 0;width:24px}.navmenu #toggle+label{color:transparent;cursor:pointer;display:block;padding:4px 0;position:relative;user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.navmenu #toggle+label::before{background:#fff;background-size:24px;content:"";float:right;height:24px;left:24px;position:relative;width:24px}.navmenu #toggle+label::after{content:"Menu";left:0;padding:0 16px;position:absolute}.navmenu #toggle+label{border-bottom:none}.navmenu #toggle+label::before{background-image:url("./static/chevron-down.svg")}.navmenu #toggle+label::after{color:#000}.navmenu #toggle~ul{height:0;visibility:hidden}.navmenu #toggle:checked+label{border-bottom:1px solid #e6e6e6}.navmenu #toggle:checked+label::before{background-image:url("./static/chevron-up.svg")}.navmenu #toggle:checked+label::after{color:gray}.navmenu #toggle:checked~ul{height:auto;visibility:visible}.navmenu ul{display:flex;flex-flow:column wrap;list-style-type:none;justify-content:flex-start;margin:0;overflow:hidden;padding:0}.navmenu ul>li{flex:none}.navmenu ul>li a{display:block;padding:4px 16px}.navmenu ul>li a:hover,.navmenu ul>li a:focus{background:gray;color:#fff}.content{max-width:720px}.content header,.content footer,.content h1,.content h2,.content p,.content ul,.content figure{margin:24px 0}.content h1{font-size:18pt}.content h2{font-size:12pt}.content footer{font-style:italic}.content p:last-of-type::after{clear:both;content:"";display:block}.content ul{padding-left:16px}.content ul>li{margin:12px 0}.content figure{max-width:90vw}.content figure>img{display:block}.content .fig-chart{padding-top:56.25%;page-break-inside:avoid;position:relative}.content .fig-chart>img{max-height:100%;max-width:100%;position:absolute;top:0}.content .fig-latex{overflow-x:auto}.content .fig-latex>img{margin:0 16px}.content .fig-pic-l>img,.content .fig-pic-r>img{margin:0 auto;max-width:100%;object-fit:cover}.content .button{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;background:#e6e6e6;color:inherit;display:block;margin:24px 0;padding:4px 0;text-align:center}.content .button:hover,.content .button:focus{background:gray;color:#fff}.content .message header>h1{background:#ff0;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .message header>h1::first-letter{text-transform:uppercase}.content .message header>h1::after{content:":"}.content .message p{font-style:italic}.content .newpost header>h1{background:#ff0;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .newpost header>h1::first-letter{text-transform:uppercase}.content .newpost header>h1::after{content:":"}.content .newpost header>h2{font-size:18pt}.content .newpost a.readmore::after{content:" \00bb"}.content .newpost a:not(.readmore):not(:hover){color:inherit}.content .oldpost{margin:24px 0}.content .oldpost header>h1{display:none}.content .archive ul>li time{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:none;font-size:10pt}.content .contact label,.content .contact input[type="submit"]{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;cursor:pointer;display:block;margin:16px 0}.content .contact label{margin-bottom:4px}.content .contact input[type="text"],.content .contact input[type="email"],.content .contact textarea{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;line-height:inherit;padding:4px;width:100%}.content .contact textarea{height:200px;max-width:100%;min-width:100%}.content .contact input[type="submit"]{padding:4px 40px}.content .comments{margin:24px 0 8px}.content .comments header>h2{display:none}.content .comments noscript{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;margin:-12px 0 24px}.sidebar header>h1{display:none}.sidebar header>h2{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0}.sidebar section{margin:24px 0}.sidebar section:first-of-type{margin-top:0}.sidebar .social-media ul{list-style:none;padding:0 0 0 16px}.sidebar .social-media ul>li a{display:inline-block}.sidebar .social-media ul>li a *{vertical-align:middle}.sidebar .social-media ul>li a span{margin:0 10px}.sidebar .social-media ul>li a svg{color:gray;height:48px;width:48px}.sidebar .social-media ul>li a:hover svg{color:inherit}.content p:not(.nojustify),.sidebar p:not(.nojustify){text-align:justify;word-spacing:-1px}.content p,.content ul,.sidebar p,.sidebar ul{line-height:1.667}@media only screen and (min-width: 600px){.content ul{padding-left:40px}.content ul>li{margin:0}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{max-width:720px}body>header{font-size:24pt}.navmenu #toggle{display:none}.navmenu #toggle+label{display:none}.navmenu #toggle~ul{height:auto;visibility:visible}.navmenu ul{flex-flow:row wrap}.navmenu ul>li a{padding:4px 32px}}@media only screen and (min-width: 1200px){body{column-gap:60px;max-width:1200px;min-width:1080px}body>header{text-align:center}.content{flex:auto;width:720px}.sidebar{flex:auto}.sidebar section:first-of-type{margin-top:40px}}@media only print{.content ul{padding-left:40px}.content ul>li{margin:0}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{display:block;margin:auto;width:125%}body>header{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0;text-align:left}.content figure{max-width:100%}.navmenu,.sidebar,.oldpost,.comments{display:none}}@page{margin:1in 1.25in}
</style></head><body><header><a href="./">Jim Killingsworth</a></header><nav class="navmenu"><input id="toggle" type="checkbox"/><label for="toggle">Enable menu</label><ul><li><a href="./"> Home </a></li><li><a href="./archive/"> Archive </a></li><li><a href="./about/"> About </a></li><li><a href="./contact/"> Contact </a></li></ul></nav><main class="content"><article><header><h1>Sep­a­rat­ing Sig­nal from Noise</h1></header><p>I want to ex­per­i­ment with mod­el­ing price changes over time as the com­bi­na­tion of a smooth trend com­po­nent over­laid with a ran­dom noise com­po­nen­t. My goal is to ex­am­ine the sta­tis­ti­cal prop­er­ties of each con­stituent com­po­nent and com­pare the re­sults to the sta­tis­ti­cal prop­er­ties of the un­de­com­posed mar­ket price.</p><p>In this post, I use a <a href="/2018/09/21/least-squares-moving-averages/">least squares mov­ing av­er­age</a> to de­ter­mine the smooth com­po­nent of a price se­ries. This is our sig­nal, so to speak. The dif­fer­ence be­tween the mar­ket price and the smooth com­po­nent is the noise com­po­nen­t, which I have dubbed the “dither.” All cal­cu­la­tions are based on the log­a­rith­mic price val­ues.</p><h2 id="sp-500-etf-daily">S&amp;P 500 ETF (Dai­ly)</h2><p>The first set of da­ta I want to ex­am­ine is a se­ries of dai­ly clos­ing prices of an S&amp;P 500 in­dex track­ing fund cov­er­ing a pe­ri­od of ap­prox­i­mate­ly 21 years. The first chart be­low shows the mar­ket price and the smooth com­po­nen­t. The sec­ond one shows the noise com­po­nen­t. Here are the chart­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-01-stocks-daily-SPY-price.svg" alt="Figure 1" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-02-stocks-daily-SPY-noise.svg" alt="Figure 2" height="405" width="720"></figure><p>The dither com­po­nent of the dai­ly price fluc­tu­a­tion is sep­a­rat­ed from the smooth com­po­nent that rep­re­sents the gen­er­al trend, cre­at­ing two dis­tinct da­ta sets that can be an­a­lyzed in­di­vid­u­al­ly. In my post ti­tled <a href="/2019/01/26/the-distribution-of-price-fluctuations/"><em>The Dis­tri­b­u­tion of Price Fluc­tu­a­tions</em></a>, I plot­ted the dai­ly re­turns of the mar­ket price in a his­togram, along with a fit­ted nor­mal and Laplace den­si­ty func­tion. We can per­form the same analy­sis not on­ly on the mar­ket price da­ta but al­so on the sep­a­rat­ed smooth and dither com­po­nents. See charts be­low:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-03-stocks-daily-SPY-probs-market.svg" alt="Figure 3" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-04-stocks-daily-SPY-probs-smooth.svg" alt="Figure 4" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-05-stocks-daily-SPY-probs-dither.svg" alt="Figure 5" height="405" width="720"></figure><p>As might be ex­pect­ed, based on a <a href="/2019/01/26/the-distribution-of-price-fluctuations/">pre­vi­ous study</a>, the his­togram for the mar­ket price da­ta has the shape of a Laplace dis­tri­b­u­tion. For the smooth da­ta set, the shape of the his­togram al­so looks rough­ly like that of a Laplace dis­tri­b­u­tion, al­though it’s a bit dis­tort­ed. No­tice, how­ev­er, that the stan­dard de­vi­a­tion of the smooth da­ta is about an or­der of mag­ni­tude small­er than that of the mar­ket price da­ta. Al­so no­tice how the peak in the smooth price his­togram is shift­ed no­tice­ably to the right, in­di­cat­ing a gen­er­al up­trend in the data. The right­ward shift is present in the mar­ket price data as well, but it’s not as no­tice­able be­cause of the larg­er dis­per­sion of dai­ly price moves in the mar­ket price data.</p><p>Look­ing at the dither com­po­nen­t, the shape of the his­togram re­sem­bles that of a Laplace dis­tri­b­u­tion about as neat­ly as the shape of the his­togram for the mar­ket price does. The stan­dard de­vi­a­tion is about the same as that of the mar­ket price da­ta as well. To gain more in­sight­s, let’s look at some con­crete num­bers con­cern­ing the analy­sis of these three da­ta set­s:</p><figure class="fig-latex"><img src="./2019/05/24/separating-signal-from-noise/fig-06-latex-2542711931.svg" alt="Figure 6" height="292"></figure><p>These val­ues are the max­i­mum like­li­hood es­ti­mates for each da­ta set. The ta­bles above show the es­ti­mat­ed lo­ca­tion and scale pa­ra­me­ters for both the nor­mal den­si­ty func­tion and the Laplace den­si­ty func­tion. My post ti­tled <a href="/2018/11/15/normal-and-laplace-distributions/"><em>Nor­mal and Laplace Dis­tri­b­u­tions</em></a> pro­vides the de­tails on how these val­ues are cal­cu­lat­ed.</p><p>The lo­ca­tion pa­ra­me­ter for the nor­mal den­si­ty func­tion is rough­ly the same for both the mar­ket price and the smooth com­po­nen­t, while the es­ti­mat­ed pa­ra­me­ter val­ue for the dither com­po­nent is about an or­der of mag­ni­tude small­er. This sug­gests that the smooth com­po­nent em­bod­ies the gen­er­al di­rec­tion of the price trend, while the dither com­po­nent is rel­a­tive­ly neu­tral. We can see a sim­i­lar pat­tern in the lo­ca­tion pa­ra­me­ter val­ues for the Laplace den­si­ty func­tion.</p><p>The scale pa­ra­me­ter val­ues for both den­si­ty func­tions are rough­ly the same for both the mar­ket price and the dither com­po­nen­t, while the val­ues for the smooth com­po­nent are an or­der of mag­ni­tude small­er. This seems to im­ply that the dither com­po­nent em­bod­ies most of the noise that ob­scures the oth­er­wise smooth trend in the orig­i­nal mar­ket price.</p><h2 id="sp-500-etf-intraday">S&amp;P 500 ETF (In­tra­day)</h2><p>The next set of da­ta I want to look at is a se­ries of in­tra­day prices of the same S&amp;P 500 in­dex track­ing fund eval­u­at­ed pre­vi­ous­ly. This da­ta set con­tains one-minute in­tra­day da­ta cov­er­ing a sin­gle trad­ing day. The charts be­low show the mar­ket price along with the smooth trend com­po­nent and the dither noise com­po­nen­t:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-07-stocks-intraday-SPY-price.svg" alt="Figure 7" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-08-stocks-intraday-SPY-noise.svg" alt="Figure 8" height="405" width="720"></figure><p>The in­tra­day price se­ries con­tains a cou­ple of sud­den price moves that are not tracked very well by the least squares mov­ing av­er­age. This re­sults in large spikes on the noise chart. Let’s take a look at the his­togram for the mar­ket price da­ta se­ries and com­pare it to that of the sep­a­rate smooth and dither com­po­nents:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-09-stocks-intraday-SPY-probs-market.svg" alt="Figure 9" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-10-stocks-intraday-SPY-probs-smooth.svg" alt="Figure 10" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-11-stocks-intraday-SPY-probs-dither.svg" alt="Figure 11" height="405" width="720"></figure><p>This his­togram for mar­ket price da­ta looks like it might ap­prox­i­mate the shape of the Laplace den­si­ty func­tion, but it has a set of shoul­ders not present in the mod­el func­tion. The his­togram for the smooth com­po­nent has a shape that is even less well de­fined. But look at the shape of the his­togram for the dither com­po­nen­t—it looks like an al­most ide­al ap­prox­i­ma­tion of the Laplace den­si­ty func­tion. Let’s take a look at the num­ber­s:</p><figure class="fig-latex"><img src="./2019/05/24/separating-signal-from-noise/fig-12-latex-1631951125.svg" alt="Figure 12" height="292"></figure><p>The lo­ca­tion and scale pa­ra­me­ters fit­ted to the nor­mal den­si­ty func­tion fol­low the same pat­tern we saw in the pre­vi­ous da­ta set. The smooth com­po­nent rep­re­sents the trend and the dither com­po­nent rep­re­sents the noise. For the Laplace den­si­ty func­tion, this pat­tern al­so holds for the scale pa­ra­me­ter but not for the lo­ca­tion pa­ra­me­ter. In­ter­est­ing­ly, the lo­ca­tion pa­ra­me­ter fit­ted to the Laplace den­si­ty func­tion im­plies a side­ways trend in the mar­ket price but in­di­cates an up­ward bias in both the smooth com­po­nent and the dither com­po­nen­t.</p><h2 id="japanese-yen-daily">Japan­ese Yen (Dai­ly)</h2><p>Now let’s take a look at the dai­ly ex­change rate be­tween the US dol­lar and the Japan­ese yen. This da­ta set cov­ers a range of about 18 years. Here are the chart­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-13-forex-daily-USDJPY-price.svg" alt="Figure 13" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-14-forex-daily-USDJPY-noise.svg" alt="Figure 14" height="405" width="720"></figure><p>The smooth com­po­nent seems to track the mar­ket price fair­ly well most of the time, but there does ap­pear to be some no­tice­able lag fol­low­ing re­ver­sal­s. The dither com­po­nent seems to os­cil­late up and down in cy­cles. Here are the his­togram­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-15-forex-daily-USDJPY-probs-market.svg" alt="Figure 15" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-16-forex-daily-USDJPY-probs-smooth.svg" alt="Figure 16" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-17-forex-daily-USDJPY-probs-dither.svg" alt="Figure 17" height="405" width="720"></figure><p>The shape of the his­togram for both the mar­ket price da­ta and the dither com­po­nent close­ly re­sem­ble the shape of the Laplace den­si­ty func­tion. For the smooth com­po­nen­t, the his­togram has a gen­er­al bell shape, but it looks like it might be a bit too slop­py and asym­met­ri­cal to prop­er­ly char­ac­ter­ize it as hav­ing the shape of a nor­mal or a Laplace den­si­ty func­tion. Here are the num­ber­s:</p><figure class="fig-latex"><img src="./2019/05/24/separating-signal-from-noise/fig-18-latex-3314066693.svg" alt="Figure 18" height="292"></figure><p>The pat­tern here is very sim­i­lar to that of the pre­vi­ous da­ta set. These re­sults sug­gest that the smooth com­po­nent cap­tures the trend and the dither com­po­nent cap­tures the noise. As with the es­ti­mates com­put­ed for the pre­vi­ous sec­tion, the lo­ca­tion pa­ra­me­ters es­ti­mat­ed for the Laplace dis­tri­b­u­tion give con­fus­ing re­sult­s.</p><h2 id="chinese-yuan-intraday">Chi­nese Yuan (In­tra­day)</h2><p>The next da­ta set is a se­ries of in­tra­day ex­change rates be­tween the Chi­nese yuan and the US dol­lar cov­er­ing a pe­ri­od of ap­prox­i­mate­ly 24 hours. Each da­ta point is one minute apart. Here are the charts show­ing the in­tra­day mar­ket prices along with the sep­a­rat­ed smooth and dither com­po­nents:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-19-forex-intraday-USDCNH-price.svg" alt="Figure 19" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-20-forex-intraday-USDCNH-noise.svg" alt="Figure 20" height="405" width="720"></figure><p>In my post ti­tled <a href="/2019/02/10/the-very-strange-chinese-yuan/"><em>The Very Strange Chi­nese Yuan</em></a>, I ex­am­ined a dif­fer­ent set of in­tra­day ex­change rates be­tween the Chi­nese yuan and the US dol­lar. In that post, I demon­strat­ed a pe­cu­liar triple peak pat­tern in the dis­tri­b­u­tion of price move­ments. We can ob­serve the same phe­nom­enon in this da­ta set as well:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-21-forex-intraday-USDCNH-probs-market.svg" alt="Figure 21" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-22-forex-intraday-USDCNH-probs-smooth.svg" alt="Figure 22" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-23-forex-intraday-USDCNH-probs-dither.svg" alt="Figure 23" height="405" width="720"></figure><p>The shape of the his­togram for the mar­ket price da­ta shows the triple peak pat­tern that is char­ac­ter­is­tic of in­tra­day ex­change rates be­tween the yuan and dol­lar. The his­togram for the smooth com­po­nent ex­hibits a rough­ly bel­l-shaped dis­tri­b­u­tion with no in­di­ca­tion of the triple peak pat­tern at al­l. The fit­ted den­si­ty func­tions for the smooth com­po­nent are both shift­ed to the left, which can be at­tribut­ed to the down­ward trend vis­i­ble in the price chart. The his­togram for the dither com­po­nen­t, on the oth­er hand, clear­ly shows the triple peak pat­tern, in­di­cat­ing that this dis­tinc­tive noise pat­tern is al­most en­tire­ly re­moved from the price trend. Here are the pa­ra­me­ter es­ti­mates for the den­si­ty func­tion­s:</p><figure class="fig-latex"><img src="./2019/05/24/separating-signal-from-noise/fig-24-latex-4002694359.svg" alt="Figure 24" height="292"></figure><p>Again, we see a pat­tern here sim­i­lar to that of the pre­vi­ous da­ta set­s. For the pa­ra­me­ters fit­ted to the nor­mal den­si­ty func­tion, the mag­ni­tude of the val­ues give ev­i­dence that the smooth com­po­nent rep­re­sents the trend and the dither com­po­nent rep­re­sents the noise. We can see this mir­rored in the scale pa­ra­me­ter val­ues fit­ted to the Laplace den­si­ty func­tion, but the fit­ted lo­ca­tion pa­ra­me­ter val­ues are not as in­tu­itive. For the Laplace den­si­ty func­tion, the lo­ca­tion pa­ra­me­ter fit­ted to the mar­ket price da­ta is ze­ro even though there is an ob­vi­ous down­ward trend in the price chart.</p><h2 id="bitcoin-daily">Bit­coin (Dai­ly)</h2><p>The fi­nal set of da­ta I want to ex­am­ine is the se­ries of dai­ly Bit­coin prices cov­er­ing a pe­ri­od of about five years. Here are the chart­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-25-crypto-daily-BTC-price.svg" alt="Figure 25" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-26-crypto-daily-BTC-noise.svg" alt="Figure 26" height="405" width="720"></figure><p>The price chart shows a fair­ly con­sis­tent mul­ti­-year trend fol­lowed by a dis­tinct re­ver­sal. The noise chart ex­hibits what ap­pears to be a cycli­cal pat­tern, al­though the pe­ri­ods don’t seem to be even­ly spaced. Here are the his­togram­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-27-crypto-daily-BTC-probs-market.svg" alt="Figure 27" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-28-crypto-daily-BTC-probs-smooth.svg" alt="Figure 28" height="405" width="720"></figure><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/05/24/separating-signal-from-noise/fig-29-crypto-daily-BTC-probs-dither.svg" alt="Figure 29" height="405" width="720"></figure><p>The his­tograms for both the mar­ket price and the dither com­po­nent have a shape that re­sem­bles the Laplace den­si­ty func­tion. The his­togram for the smooth com­po­nent has a slop­py and ir­reg­u­lar shape. Here are the num­ber­s:</p><figure class="fig-latex"><img src="./2019/05/24/separating-signal-from-noise/fig-30-latex-0460937359.svg" alt="Figure 30" height="292"></figure><p>Not sur­pris­ing­ly, these re­sults mir­ror what we’ve seen with the oth­er da­ta set­s. The pa­ra­me­ters fit­ted to the nor­mal den­si­ty func­tion and the scale pa­ra­me­ters fit­ted to the Laplace den­si­ty func­tion in­di­cate that the smooth and dither com­po­nents rep­re­sent the trend and noise re­spec­tive­ly. The lo­ca­tion pa­ra­me­ters es­ti­mat­ed for the Laplace den­si­ty func­tion re­main a bit more mys­te­ri­ous.</p><h2 id="final-thoughts">Fi­nal Thoughts</h2><p>I think the most ob­vi­ous con­clu­sion to draw from this ex­per­i­ment is that a smooth price sig­nal can be sep­a­rat­ed from the un­re­lat­ed noise in price fluc­tu­a­tion­s. More specif­i­cal­ly, the par­tic­u­lar shape of the dis­tri­b­u­tion of price move­ments—a shape that typ­i­cal­ly re­sem­bles that of a Laplace dis­tri­b­u­tion—can be de­tached from the smooth price trend. The char­ac­ter­is­tics of the dis­tri­b­u­tion of mar­ket price fluc­tu­a­tions are large­ly a con­se­quence of the noise com­po­nent in­de­pen­dent of the trend com­po­nen­t. Even in the case of the in­tra­day Chi­nese yuan prices, the idio­syn­crat­ic triple peak dis­tri­b­u­tion can be iso­lat­ed to the noise com­po­nent on­ly.</p><p>An­oth­er in­ter­est­ing ob­ser­va­tion in the da­ta sets ex­am­ined here is that the noise is not en­tire­ly ran­dom. There is a struc­ture to it. There are un­de­ni­able up and down cy­cles. My ini­tial thought is to ap­ply Fouri­er analy­sis to ex­tract a cycli­cal com­po­nent from the resid­ual noise. I am cu­ri­ous what the dis­tri­b­u­tion char­ac­ter­is­tics of the resid­ual noise would look like if it could be iso­lat­ed from the cycli­cal com­po­nent as well as the trend com­po­nen­t. The up and down cy­cles are some­what ir­reg­u­lar, how­ev­er, which might make a Fouri­er analy­sis dif­fi­cult. I think this is some­thing worth fur­ther in­ves­ti­ga­tion.</p><p>The tech­niques used in this ar­ti­cle re­ly on a least squares mov­ing av­er­age to de­ter­mine the smooth trend com­po­nent of a price se­ries. While the least squares mov­ing av­er­age is great for track­ing sus­tained price trend­s, the dis­ad­van­tage is that it re­acts slow­ly to sharp re­ver­sals in the trend. The slow re­ac­tion to trend re­ver­sals can pro­duce ar­ti­fi­cial­ly large spikes in the noise com­po­nen­t. There might be bet­ter smooth­ing al­go­rithms worth ex­plor­ing.</p><p class="nojustify"><a href="https://github.com/jkillingsworth/jkillingsworth.com/tree/master/src/2019-05-24-separating-signal-from-noise">Ac­com­pa­ny­ing source code is avail­able on GitHub.</a></p><footer><time datetime="2019-05-24">May 24, 2019</time></footer></article><section class="comments"><header><h2>Com­ments</h2></header><script>
    var disqus_config = function () {
      this.page.url = "https://jkillingsworth.com/2019/05/24/separating-signal-from-noise/";
      this.page.title = "Separating Signal from Noise";
      this.page.identifier = "/2019/05/24/separating-signal-from-noise/";
    };
    function disqus_show() {
      var d = document, s = d.createElement("script");
      s.src = "https://jkillingsworth.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    }
    function anchor_blur() {
      var a = document.getElementById("comments");
      a.innerText = "Comments";
      a.blur();
    }
    function disqus() {
      disqus_show();
      anchor_blur();
    }
  </script><a href="javascript:disqus();" id="comments" class="button">Show comments</a><div id="disqus_thread"></div><noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><aside class="sidebar"><header><h1>Sidebar</h1></header><section class="social-media"><header><h2>Social Media</h2></header><ul><li><a href="https://www.linkedin.com/in/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"/></svg><span>LinkedIn</span></a></li><li><a href="https://github.com/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"/></svg><span>GitHub</span></a></li></ul></section></aside><footer> &copy; 2018&ndash;2022 Jim Killingsworth. All rights reserved. </footer></body></html>