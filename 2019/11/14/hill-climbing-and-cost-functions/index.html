<!doctype html><html lang="en-US"><head><title>Hill Climbing and Cost Functions - Jim Killingsworth</title><meta charset="utf-8"/><meta name="referrer" content="no-referrer-when-downgrade"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="If you’re climbing a hill, you know you’ve reached the top when you can’t take any further steps that lead to a higher elevation. But if the hill is actually a plateau with a flat top, the topmost point you reach can depend largely on where you started climbing. In this post, I elaborate on the topic of my previous post titled Estimating the Weights of Biased Coins. This post presents the results of an improved hill climbing algorithm and also some ideas for ranking the different solutions that fall on a plateau of valid values."/><base href="/"/><link rel="canonical" href="https://jkillingsworth.com/2019/11/14/hill-climbing-and-cost-functions/"/><link rel="icon" href="./static/favicon.ico" type="image/x-icon"/><link rel="icon" href="./static/favicon-256.jpg" sizes="256x256"/><link rel="preload" href="./static/fonts/open-sans-v29-latin-700.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v25-latin-regular.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v25-latin-italic.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/roboto-mono-v22-latin-regular.woff2" as="font" crossorigin/><script src="https://www.googletagmanager.com/gtag/js?id=G-KP25LH29N8" async></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag("js", new Date());
  gtag("config", "G-KP25LH29N8");
</script><style>@font-face{font-display:swap;font-family:"Open Sans";font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(./static/fonts/open-sans-v29-latin-700.woff2) format("woff2"),url(./static/fonts/open-sans-v29-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:normal;font-weight:400;src:local("Lora Regular"),local("Lora-Regular"),url(./static/fonts/lora-v25-latin-regular.woff2) format("woff2"),url(./static/fonts/lora-v25-latin-regular.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:italic;font-weight:400;src:local("Lora Italic"),local("Lora-Italic"),url(./static/fonts/lora-v25-latin-italic.woff2) format("woff2"),url(./static/fonts/lora-v25-latin-italic.woff) format("woff")}@font-face{font-display:swap;font-family:"Roboto Mono";font-style:normal;font-weight:400;src:local("Roboto Mono"),local("RobotoMono-Regular"),url(./static/fonts/roboto-mono-v22-latin-regular.woff2) format("woff2"),url(./static/fonts/roboto-mono-v22-latin-regular.woff) format("woff")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
html{box-sizing:border-box;overflow-y:scroll}*,*::before,*::after{box-sizing:inherit}body{font-family:"Lora", "Georgia", serif;font-weight:normal;background:#fff;color:#000;display:flex;flex-flow:row wrap;font-size:12pt;justify-content:space-between;line-height:1.5;margin:0 auto;width:90%}body>*{flex:100%}body>header{font-size:21pt;margin:10px 0}body>footer{border-top:3px solid gray;font-size:10pt;font-style:italic;padding:16px 0}header,nav,h1,h2{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}header a,nav a,h1 a,h2 a{color:inherit}a{color:#0050ff;text-decoration:none}a:hover{color:#0050ff;text-decoration:underline}strong{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}svg{fill:currentColor}.navmenu{border-top:3px solid gray;border-bottom:1px solid #ccc}.navmenu #toggle{float:right;height:24px;margin:4px 0;width:24px}.navmenu #toggle+label{color:transparent;cursor:pointer;display:block;padding:4px 0;position:relative;user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.navmenu #toggle+label::before{background:#fff;background-size:24px;content:"";float:right;height:24px;left:24px;position:relative;width:24px}.navmenu #toggle+label::after{content:"Menu";left:0;padding:0 16px;position:absolute}.navmenu #toggle+label{border-bottom:none}.navmenu #toggle+label::before{background-image:url("./static/chevron-down.svg")}.navmenu #toggle+label::after{color:#000}.navmenu #toggle~ul{height:0;visibility:hidden}.navmenu #toggle:checked+label{border-bottom:1px solid #e6e6e6}.navmenu #toggle:checked+label::before{background-image:url("./static/chevron-up.svg")}.navmenu #toggle:checked+label::after{color:gray}.navmenu #toggle:checked~ul{height:auto;visibility:visible}.navmenu ul{display:flex;flex-flow:column wrap;list-style-type:none;justify-content:flex-start;margin:0;overflow:hidden;padding:0}.navmenu ul>li{flex:none}.navmenu ul>li a{display:block;padding:4px 16px}.navmenu ul>li a:hover,.navmenu ul>li a:focus{background:gray;color:#fff}.content{max-width:720px}.content header,.content footer,.content h1,.content h2,.content p,.content ul,.content figure{margin:24px 0}.content h1{font-size:18pt}.content h2{font-size:12pt}.content footer{font-style:italic}.content p:last-of-type::after{clear:both;content:"";display:block}.content ul{padding-left:16px}.content ul>li{margin:12px 0}.content figure{max-width:90vw}.content figure>img{display:block}.content .fig-chart{padding-top:56.25%;page-break-inside:avoid;position:relative}.content .fig-chart>img{max-height:100%;max-width:100%;position:absolute;top:0}.content .fig-latex{overflow-x:auto}.content .fig-latex>img{margin:0 16px}.content .fig-pic-l>img,.content .fig-pic-r>img{margin:0 auto;max-width:100%;object-fit:cover}.content .button{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;background:#e6e6e6;color:inherit;display:block;margin:24px 0;padding:4px 0;text-align:center}.content .button:hover,.content .button:focus{background:gray;color:#fff}.content .message header>h1{background:#ffff60;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .message header>h1::first-letter{text-transform:uppercase}.content .message header>h1::after{content:":"}.content .message p{font-style:italic}.content .newpost header>h1{background:#ffff60;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .newpost header>h1::first-letter{text-transform:uppercase}.content .newpost header>h1::after{content:":"}.content .newpost header>h2{font-size:18pt}.content .newpost a.readmore{background:#e8f0ff}.content .newpost a.readmore::after{content:" \00bb"}.content .newpost a:not(.readmore):not(:hover){color:inherit}.content .oldpost{margin:24px 0}.content .oldpost header>h1{display:none}.content .archive ul>li time{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:none;font-size:10pt}.content .contact label,.content .contact input[type="submit"]{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;cursor:pointer;display:block;margin:16px 0}.content .contact label{margin-bottom:4px}.content .contact input[type="text"],.content .contact input[type="email"],.content .contact textarea{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;line-height:inherit;padding:4px;width:100%}.content .contact textarea{height:200px;max-width:100%;min-width:100%}.content .contact input[type="submit"]{padding:4px 40px}.content .comments{margin:24px 0 8px}.content .comments header>h2{display:none}.content .comments noscript{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;margin:-12px 0 24px}.sidebar header>h1{display:none}.sidebar header>h2{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0}.sidebar section{margin:24px 0}.sidebar section:first-of-type{margin-top:0}.sidebar .social-media ul{list-style:none;padding:0 0 0 16px}.sidebar .social-media ul>li a{display:inline-block}.sidebar .social-media ul>li a *{vertical-align:middle}.sidebar .social-media ul>li a span{margin:0 10px}.sidebar .social-media ul>li a svg{color:gray;height:48px;width:48px}.sidebar .social-media ul>li a:hover svg{color:inherit}.content p:not(.nojustify),.sidebar p:not(.nojustify){text-align:justify;word-spacing:-1px}.content p,.content ul,.sidebar p,.sidebar ul{line-height:1.667}@media only screen and (min-width: 600px){.content ul{padding-left:40px}.content ul>li{margin:0}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{max-width:720px}body>header{font-size:24pt}.navmenu #toggle{display:none}.navmenu #toggle+label{display:none}.navmenu #toggle~ul{height:auto;visibility:visible}.navmenu ul{flex-flow:row wrap}.navmenu ul>li a{padding:4px 32px}}@media only screen and (min-width: 1200px){body{column-gap:60px;max-width:1200px;min-width:1080px}body>header{text-align:center}.content{flex:auto;width:720px}.sidebar{flex:auto}.sidebar section:first-of-type{margin-top:40px}}@media only print{.content ul{padding-left:40px}.content ul>li{margin:0}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{display:block;margin:auto;width:125%}body>header{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0;text-align:left}.content figure{max-width:100%}.navmenu,.sidebar,.oldpost,.comments{display:none}}@page{margin:1in 1.25in}
</style></head><body><header><a href="./">Jim Killingsworth</a></header><nav class="navmenu"><input id="toggle" type="checkbox"/><label for="toggle">Enable menu</label><ul><li><a href="./"> Home </a></li><li><a href="./archive/"> Archive </a></li><li><a href="./about/"> About </a></li><li><a href="./contact/"> Contact </a></li></ul></nav><main class="content"><article><header><h1>Hill Climb­ing and Cost Func­tions</h1></header><p>If you’re climb­ing a hill, you know you’ve reached the top when you can’t take any fur­ther steps that lead to a high­er el­e­va­tion. But if the hill is ac­tu­al­ly a plateau with a flat top, the top­most point you reach can de­pend large­ly on where you start­ed climb­ing. In this post, I elab­o­rate on the top­ic of my pre­vi­ous post ti­tled <a href="/2019/09/14/estimating-the-weights-of-biased-coins/"><em>Es­ti­mat­ing the Weights of Bi­ased Coins</em></a>. This post presents the re­sults of an im­proved hill climb­ing al­go­rithm and al­so some ideas for rank­ing the dif­fer­ent so­lu­tions that fall on a plateau of valid val­ues.</p><h2 id="hill-climbing-algorithm">Hill Climb­ing Al­go­rithm</h2><p>The hill climb­ing al­go­rithm used in my <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a> is a sto­chas­tic hill climb­ing al­go­rith­m. It ran­dom­ly choos­es a small in­cre­ment to one of the weights and then ei­ther ac­cepts or re­jects the move, de­pend­ing on whether or not the ad­just­ment brings the com­put­ed out­come clos­er to that of the tar­get dis­tri­b­u­tion.</p><p>In­stead of ran­dom­ly pick­ing a sin­gle move, we can con­sid­er the set of all pos­si­ble moves and pick the one with the steep­est as­cent up the hill. To do this, we can in­cre­ment each one of the weights in both the pos­i­tive and the neg­a­tive di­rec­tion. If there are three weight­s, there are six pos­si­ble moves. We can com­pute the val­ue of a cost func­tion for each move and then choose the best one. This process can be re­peat­ed un­til none of the pos­si­ble moves of­fers an im­prove­ment to the val­ue of the cost func­tion as­so­ci­at­ed with the pre­vi­ous es­ti­mate. To il­lus­trate, con­sid­er the fol­low­ing tar­get dis­tri­b­u­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-01-target-pmfunc.svg" alt="Figure 1" height="405" width="720"></figure><p>Sup­pose this rep­re­sents the ex­pect­ed out­come of play­ing the weight­ed coin toss game with four toss­es, as de­scribed in my <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>. The tar­get val­ues are thus:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-02-latex-3086321722.svg" alt="Figure 2" height="71"></figure><p>We want to fig­ure out what weights of the bi­ased coins will give us an ex­pect­ed out­come that match­es this tar­get dis­tri­b­u­tion. We start by mak­ing an ini­tial guess. Sup­pose we start with an ini­tial guess of all fair­ly weight­ed coin­s, as il­lus­trat­ed be­low:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-03-estimate-equal-05-begin-biases.svg" alt="Figure 3" height="405" width="720"></figure><p>These weights can be rep­re­sent­ed us­ing the fol­low­ing no­ta­tion:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-04-latex-0311064885.svg" alt="Figure 4" height="71"></figure><p>Giv­en this ini­tial guess, we can cal­cu­late what the ex­pec­ta­tion of the coin toss game would be if the coins were weight­ed ac­cord­ing to our ini­tial es­ti­mate. Re­call the fol­low­ing equa­tions de­rived in the <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-05-latex-3570843234.svg" alt="Figure 5" height="115"></figure><p>Plug­ging in the num­bers and do­ing the math, here are the com­put­ed val­ues based on the ini­tial es­ti­mate of the weight­s:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-06-latex-3791477472.svg" alt="Figure 6" height="71"></figure><p>This does not match our tar­get val­ues, so we know that our ini­tial guess is not cor­rec­t. But how in­cor­rect is it? Can we quan­ti­fy the fit­ness of our es­ti­mate? In­deed, we can use a cost func­tion to de­ter­mine how close our es­ti­mate is to the de­sired re­sult. In this ex­am­ple, we use the sum of squared er­rors as our cost func­tion:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-07-latex-0733634416.svg" alt="Figure 7" height="67"></figure><p>Our ob­jec­tive is to re­vise the es­ti­mate to min­i­mize the val­ue of the cost func­tion. Low­er val­ues in­di­cate a more fa­vor­able es­ti­mate. A ze­ro val­ue is the most ide­al. In­cre­ment­ing each one of the es­ti­mat­ed weights by a small step size, in both the pos­i­tive and neg­a­tive di­rec­tion, there are six pos­si­ble re­vi­sions we can make to our ini­tial es­ti­mate:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-08-latex-0547143742.svg" alt="Figure 8" height="234"></figure><p>The pro­posed re­vi­sion with the low­est val­ue for the cost func­tion is the move with the steep­est as­cent up the hill. If we choose the pro­posed re­vi­sion with the low­est val­ue for the cost func­tion, our re­vised es­ti­mate then be­comes:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-09-latex-0591371959.svg" alt="Figure 9" height="71"></figure><p>Us­ing this re­vised es­ti­mate as our new base­line, we can re­peat this process again and again un­til none of the pro­posed re­vi­sions of­fers an im­prove­ment to the val­ue of the cost func­tion as­so­ci­at­ed with the pre­vi­ous es­ti­mate. Af­ter many it­er­a­tions, we con­verge on the fol­low­ing val­ues:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-10-latex-1108567556.svg" alt="Figure 10" height="71"></figure><p>Here is a vi­su­al rep­re­sen­ta­tion of the fi­nal re­sult:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-11-estimate-equal-05-final-biases.svg" alt="Figure 11" height="405" width="720"></figure><p>If we play the coin toss game with these weight­s, the ex­pect­ed out­come match­es the tar­get dis­tri­b­u­tion. How­ev­er, as demon­strat­ed in a <a href="/2019/09/14/estimating-the-weights-of-biased-coins/#exponential-distribution-parameter--05">pre­vi­ous study</a>, this is not the on­ly so­lu­tion pos­si­ble for the giv­en tar­get dis­tri­b­u­tion.</p><h2 id="different-starting-points">Dif­fer­ent Start­ing Points</h2><p>In­stead of start­ing with an ini­tial es­ti­mate of all fair­ly weight­ed coin­s, what would hap­pen if we ap­plied the hill climb­ing al­go­rithm de­scribed above start­ing with a dif­fer­ent set of weights for the ini­tial guess? Re­call the tar­get dis­tri­b­u­tion we are try­ing to find the weights for:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-12-target-pmfunc.svg" alt="Figure 12" height="405" width="720"></figure><p>Now sup­pose we start with the fol­low­ing ini­tial es­ti­mate:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-13-estimate-slope-02-begin-biases.svg" alt="Figure 13" height="405" width="720"></figure><p>These are as­cend­ing weights in­stead of equal weight­s. If we re­vise the es­ti­mate re­peat­ed­ly over many it­er­a­tions, fol­low­ing the same steps de­scribed in the pre­vi­ous sec­tion, the es­ti­mate even­tu­al­ly con­verges on the fol­low­ing val­ues:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-14-estimate-slope-02-final-biases.svg" alt="Figure 14" height="405" width="720"></figure><p>As you can see, the fi­nal re­sults found by the hill climb­ing al­go­rithm de­pend on the ini­tial es­ti­mate of the weight­s. Since there are many valid so­lu­tion­s, the hill we want to climb is ac­tu­al­ly a plateau that is flat at the top. To vi­su­al­ize, con­sid­er the fol­low­ing il­lus­tra­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-15-climb-hill-east.svg" alt="Figure 15" height="405" width="720"></figure><p>A hik­er wants to get to the top of a hill. If he starts at the base of the hill and al­ways takes steps in the di­rec­tion that leads to a high­er el­e­va­tion, he will even­tu­al­ly reach the top of the hill. Once at the top, the hik­er can­not take any ad­di­tion­al steps that would lead to a high­er el­e­va­tion. In the il­lus­tra­tion above, the hik­er starts on the east side of the hill. Look at what hap­pens if the hik­er starts on the west side of the hill:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-16-climb-hill-west.svg" alt="Figure 16" height="405" width="720"></figure><p>Re­gard­less of start­ing po­si­tion, the hik­er al­ways winds up in the same po­si­tion at the top of the hill. But this on­ly hap­pens with cer­tain types of hill­s. Con­sid­er what hap­pens if the hill is ac­tu­al­ly a plateau with a flat top:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-17-climb-plat-east.svg" alt="Figure 17" height="405" width="720"></figure><p>When start­ing from the base on the east side of the plateau, the hik­er reach­es the top­most point lo­cat­ed on the east­ern rim. At this point, the hik­er can­not take any fur­ther steps that would lead to a high­er el­e­va­tion. Now look what hap­pens if the hik­er starts at the base on the west side of the plateau:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-18-climb-plat-west.svg" alt="Figure 18" height="405" width="720"></figure><p>In this case, the top­most point reached by the hik­er is lo­cat­ed on the west­ern rim of the plateau. When the hill is re­al­ly a plateau, the hill climb­ing al­go­rithm does not con­verge to the same so­lu­tion for dif­fer­ent start­ing po­si­tion­s. How­ev­er, it might be pos­si­ble to adapt the cost func­tion in such a way that would give pref­er­ence to some valid so­lu­tions over oth­er­s. For ex­am­ple, a scor­ing func­tion might be used to give pref­er­ence to cer­tain val­ues based on prox­im­i­ty to the edge of the plateau.</p><h2 id="scoring-values-on-the-plateau">Scor­ing Val­ues on the Plateau</h2><p>Here I want to con­sid­er two dif­fer­ent scor­ing func­tions that can be used to rank the val­ues on a plateau of pos­si­ble so­lu­tions for the weight­ed coin toss game. Each of these scor­ing func­tions could be used as a sec­ondary cost func­tion in cas­es where the pri­ma­ry cost func­tion re­turns the most op­ti­mal val­ue of ze­ro.</p><p>The first scor­ing func­tion I want to con­sid­er gives pref­er­ence to weights that are near­est to the cen­ter of the range of pos­si­ble weight­s:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-19-latex-1422846823.svg" alt="Figure 19" height="27"></figure><p>The sec­ond scor­ing func­tion I want to con­sid­er gives pref­er­ence to weights that are near­est to their neigh­bor­ing weight­s:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-20-latex-3835023578.svg" alt="Figure 20" height="27"></figure><p>Now let’s con­sid­er the first set of weights we found for the tar­get dis­tri­b­u­tion af­ter ap­ply­ing the hill climb­ing al­go­rithm start­ing with an ini­tial guess of all fair­ly weight­ed coin­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-21-estimate-equal-05-final-biases.svg" alt="Figure 21" height="405" width="720"></figure><p>Plug­ging these weights in­to the scor­ing func­tion­s:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-22-latex-2995246726.svg" alt="Figure 22" height="44"></figure><p>Now let’s con­sid­er the sec­ond set of weights we found for the tar­get dis­tri­b­u­tion af­ter ap­ply­ing the hill climb­ing al­go­rithm start­ing with an ini­tial guess of as­cend­ing weight­s:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-23-estimate-slope-02-final-biases.svg" alt="Figure 23" height="405" width="720"></figure><p>Plug­ging these weights in­to the scor­ing func­tion­s:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-24-latex-0537060120.svg" alt="Figure 24" height="45"></figure><p>While both sets of weights are valid so­lu­tions for the giv­en tar­get dis­tri­b­u­tion, the scor­ing func­tions give pref­er­ence to one over the oth­er. In this case, both scor­ing func­tions give pref­er­ence to the sec­ond set of weight­s. But these two sets of weights are just two pos­si­ble so­lu­tions in an en­tire range of pos­si­ble so­lu­tions in which the pri­ma­ry cost func­tion eval­u­ates to ze­ro.</p><p>If we on­ly con­sid­er the range of pos­si­ble so­lu­tions in which the pri­ma­ry cost func­tion eval­u­ates to ze­ro, which are the on­ly valid so­lu­tions for the giv­en tar­get dis­tri­b­u­tion, how do we go about find­ing the one with the most op­ti­mal score for each of the two scor­ing func­tion­s? We can start by plot­ting the scores across the range of pos­si­ble val­ues. Based on the re­sults de­rived in the <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>, the weights of the bi­ased coins in the +2 and +3 states can be stat­ed in terms of the weight of the coin in the +1 state:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-25-latex-2130869872.svg" alt="Figure 25" height="109"></figure><p>Ad­di­tion­al­ly, the val­ue of the weight of the bi­ased coin in the +1 state is lim­it­ed to a range with a low­er and up­per bound:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-26-latex-3439724747.svg" alt="Figure 26" height="19"></figure><p>The min­i­mum val­ue at the low­er bound is:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-27-latex-1302391810.svg" alt="Figure 27" height="22"></figure><p>The max­i­mum val­ue at the up­per bound is:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-28-latex-3755045461.svg" alt="Figure 28" height="43"></figure><p>From this, we can rep­re­sent the range of all valid so­lu­tions for the tar­get dis­tri­b­u­tion on a sin­gle ax­is. We can plot the weights on the hor­i­zon­tal ax­is and the scores on the ver­ti­cal ax­is. Re­call the val­ues of the tar­get dis­tri­b­u­tion pre­sent­ed ear­lier:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-29-latex-3086321722.svg" alt="Figure 29" height="71"></figure><p>Here is the plot of the first scor­ing func­tion for all weights in which the pri­ma­ry cost func­tion eval­u­ates to ze­ro for the tar­get dis­tri­b­u­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-30-optimize-score-A-scores.svg" alt="Figure 30" height="405" width="720"></figure><p>The most op­ti­mal point can be found by tak­ing the de­riv­a­tive of the scor­ing func­tion and find­ing the root:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-31-latex-1155649836.svg" alt="Figure 31" height="43"></figure><p>Here is the most op­ti­mal set of weights de­ter­mined by the scor­ing func­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-32-optimize-score-A-biases.svg" alt="Figure 32" height="405" width="720"></figure><p>Here is the plot of the sec­ond scor­ing func­tion for all weights in which the pri­ma­ry cost func­tion eval­u­ates to ze­ro for the tar­get dis­tri­b­u­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-33-optimize-score-B-scores.svg" alt="Figure 33" height="405" width="720"></figure><p>The most op­ti­mal point can be found by tak­ing the de­riv­a­tive of the scor­ing func­tion and find­ing the root:</p><figure class="fig-latex"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-34-latex-0960001601.svg" alt="Figure 34" height="43"></figure><p>Here is the most op­ti­mal set of weights de­ter­mined by the scor­ing func­tion:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img src="./2019/11/14/hill-climbing-and-cost-functions/fig-35-optimize-score-B-biases.svg" alt="Figure 35" height="405" width="720"></figure><p>These two re­sults are dif­fer­ent than those found by the hill climb­ing al­go­rith­m. For both scor­ing func­tions above, I used a nu­mer­i­cal root-find­ing method to find the root of the de­riv­a­tive. I don’t think a closed-form so­lu­tion is pos­si­ble in ei­ther of these two cas­es. This ap­proach to find­ing the op­ti­mal val­ues may not work if the scor­ing func­tion is not dif­fer­en­tiable at all points that fall with­in the low­er and up­per bound.</p><h2 id="next-steps">Next Steps</h2><p>The vari­a­tion of the hill climb­ing al­go­rithm pre­sent­ed here con­verges to a so­lu­tion very quick­ly in a fi­nite num­ber of it­er­a­tions. How­ev­er, it does not con­verge to a unique so­lu­tion for all start­ing points. When us­ing a scor­ing func­tion like the ones pre­sent­ed above, a unique so­lu­tion can be found for a prob­lem that would oth­er­wise have an in­fi­nite num­ber of pos­si­ble so­lu­tion­s.</p><p>My goal is to find a way to com­bine the cost func­tion used in the hill climb­ing al­go­rithm with a scor­ing func­tion that gives cur­va­ture to an oth­er­wise flat plateau. This would al­low the hill climb­ing al­go­rithm to con­verge to a unique so­lu­tion re­gard­less of the ini­tial guess. The plateau es­sen­tial­ly be­comes a ridge. My ini­tial at­tempts at com­bin­ing the cost func­tion with a scor­ing func­tion have re­sult­ed in a method that seems to find its way to the ridge, but then gets stuck when try­ing to as­cend the ridge.</p><p>Ul­ti­mate­ly, I want to come up with a tech­nique that finds a unique so­lu­tion to the weight­ed coin toss game when there is a large num­ber of coin toss­es in­stead of just four. And I want to do so in a way that is com­pu­ta­tion­al­ly ef­fi­cien­t. Vari­a­tions of the hill climb­ing al­go­rithm may or may not be the best ap­proach. I plan to post more on this top­ic as I con­tin­ue to ex­plore new ideas.</p><p class="nojustify"><a href="https://github.com/jkillingsworth/jkillingsworth.com/tree/master/src/2019-11-14-hill-climbing-and-cost-functions">Ac­com­pa­ny­ing source code is avail­able on GitHub.</a></p><footer><time datetime="2019-11-14">November 14, 2019</time></footer></article><section class="comments"><header><h2>Com­ments</h2></header><script>
    var disqus_config = function () {
      this.page.url = "https://jkillingsworth.com/2019/11/14/hill-climbing-and-cost-functions/";
      this.page.title = "Hill Climbing and Cost Functions";
      this.page.identifier = "/2019/11/14/hill-climbing-and-cost-functions/";
    };
    function disqus_show() {
      var d = document, s = d.createElement("script");
      s.src = "https://jkillingsworth.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    }
    function anchor_blur() {
      var a = document.getElementById("comments");
      a.innerText = "Comments";
      a.blur();
    }
    function disqus() {
      disqus_show();
      anchor_blur();
    }
  </script><a href="javascript:disqus();" id="comments" class="button">Show comments</a><div id="disqus_thread"></div><noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><aside class="sidebar"><header><h1>Sidebar</h1></header><section class="social-media"><header><h2>Social Media</h2></header><ul><li><a href="https://www.linkedin.com/in/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"/></svg><span>LinkedIn</span></a></li><li><a href="https://github.com/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"/></svg><span>GitHub</span></a></li></ul></section></aside><footer> &copy; 2018&ndash;2022 Jim Killingsworth. All rights reserved. </footer></body></html>